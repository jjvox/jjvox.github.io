---
layout: single
title: "array map, reduce 그리고 forEach"
categories: "js_practice"
tag: [JS, 제로베이스프론트엔드스쿨]
toc: true
author_profile: true
#sidebar:
#  nav: "docs"
---



# array map, reduce 그리고 forEach

## -진즉 메서드를 잘 쓸걸

​	

```javascript
return arr.map((c) => parseInt(c, 2)).reduce((pre, cur) => pre & cur);
```

 코딩테스트에서 난 힘들게 for문을 사용하고 새로운 변수를 선언해서 계산값을 담고 고생을 했는데 

메서드를 이용하면 이렇게 간단히 해결이 되었다.



 사실 위 메서드들을 배웠다. 하지만 수업시간에 짧게 3~5분 동안 ''이러이러한게 있습니다." 하고 넘어가는 것 만으로는 실전에서 써먹을 수가 없었다. 한번에 많은걸 배우다 보니 다 배우고 나도 기억이 잘안났고 복습을 한다해도 실제로 어떻게 쓰이는지 내가 직접 풀이에 써먹기 전까진 잘 모를 수 밖에 없다.



 그렇게 자바스크립트를 빠르게 배우고 자료구조와 알고리즘 공부를 하며 문제 풀이에만 급급 하다보니 위와 같은 코드를 쉽고 간편하게 해주는 다양한 메서드들을 익히는데 소홀 했었다. 그래서 풀지않고 지나간 문제들을 다 다시 풀어보며 하나씩 중요 메서드들을 공부 하고 있다. 전엔 몰랐으나 지금 다시 문제를 풀고 풀이를 보니 여러 메서드들을 사용 하게 문제가 골고루 출제 되어 있었다. ㅋㅋㅋ 



 그걸 이제 알아차리다니......



## Array.map

 항상 배열을 함수를 실행한 후에 새로운 배열에 저장을 했다. 

 for문을 이용해 배열 요소 하나하나 함수를 실행했고 그렇게 나온 결과값을 새로 선언한 배열에 저장 했다.

 그런데 .map하나면 모든게 해결된다! 심지어 화살표 함수 까지 쓰면 더 쉽고 간단히 해결 된다. 



```javascript
let nums = [1, 2, 3, 4, 5];
let nums_map = nums.map(x => x*2);
```



 이렇게 간단히 for문 대신 사용 할수 있다.  다음 코딩 테스트때는 무조건 써먹어 봐야겠다.



##  Array.reduce

  for문을 통해 일일이 각 배열의 요소를 연산하는 수고를 하지 않아도 된다!



 ```javascript
 arr.reduce(function(accumulator,item,index,array){}, initialValue)
 ```

 reduce 는 각 배열 요소를 주어진 함수로 수행하고 결과 값을 누적 시킨다. map은 각 배열 요소를 함수로 수행한 후 새로운 배열로 저장 시켰다면 reduce는 배열 요소를 함수로 수행한 후 값을 누적시켜서 모두 수행하고 마지막으로 한가지 결과를 반환 한다. 



 index와 array는 옵셔널이고 initialValue(초기값) 은 제공하지 않을 경우 배열의 첫번째 요소를 초기값으로 쓴다. 



```javascript
arr.reduce((prev, curr) => prev + curr);
```

이와 같이 화살표 함수로 아주 간단히 표현 할 수 있다. prev는 이전까지 누적된 값 curr은 현재 수행할 값을 의미 한다. 



 reduce는 initialValue에 무엇을 넣느냐 또 어떻게 쓰느냐에 따라 정말 다양하게 사용 될 수 있다. 

 for문을 안써도 되는것만 해도 어디여... 

 다음에 배열 요소별로 누적 계산을 해야할 문제가 나오면 reduce를 꼭 써봐야 겠다. 

 

##  Array.forEach

 각 배열에 대해 주어진 함수를 한번씩 다 실행 시키는 메서드 이다. 

 map처럼 배열로 저장하는 것도 아니고 

 reduce처럼 값을 누적 시키는 것도 아니고 

 그냥 함수를 실행 시킨다. 반환된 값으로 무엇을 할지 따로 작성을 해줘야만 하는 메서드이다. 



 그리고 모든 배열 요소에 대해 한번씩 전부 다 함수가 발생 한다. 요소를 건너 뛰는것도 안되고 중간에 멈추는 것도 안된다. 

 ```javascript
 function solution(arr) {
   if (arr.length === 0) return -1
 
   const MIN_VALUE = 1
   let curMax = MIN_VALUE
   arr.forEach(num => curMax = (curMax < num) ? num : curMax)
   return curMax
 }
 ```

 배열에서 가장 큰 최댓값을 찾아낼때 사용된 forEach

각 num(배열 요소)에 대해 (curMax < num) ? num : curmax 삼항 연산자를 한 값을 curMax에 할당 하고 있다. 

그렇게 배열을 서로서로 전부 비교하면 마지막에 원하는 값이 저장 된다. 



 나는 최댓값 찾는 문제를 sort를 이용해 오름차순으로 정리 한 다음 배열의 가장 끝 요소를 반환했다. 해당 방법은 배열이 흐트러지는 단점이 있지만 forEach는 기존 배열을 손상시키지 않고 값을 찾아 낼 수 있는 장점이 있다. 





------



 위에 언급한 내용 말고도 mdn을 찾아보니 map,reduce,forEach에 대한 사용 법은 더 많았다. 

 한번에 다 익히려 하면 결국 다 기억도 못할테니 이번에는 이정도로 익혀두고 다음에 만나면 제대로 써봐야 겠다. 

 

 요새 자료구조와 알고리즘 공부를 하느라 js언어 자체에 대한 공부가 많이 부족 했는데 이번에 새로운 깨닳음을 얻었다. 아.. 메서드를 잘 알면 정말 정말 편하구나.. for문을 사용하면 문제를 다 풀수는 있지만 효율성이 너무 떨어진다는걸 알았기 때문에 틈틈히 메서드 공부좀 해야 겠다. 



 그럼 goodbye. 뭐가 뭔지 몰라서 정신없던 시기가 지나가고 어떻게 공부해야 할지 감이 잡히기 시작하니 다행히 공부하는데 더 신난다 ㅋㅋ
